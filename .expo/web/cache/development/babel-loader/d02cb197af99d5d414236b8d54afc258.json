{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport Animated, { diff, lessThan, or } from \"react-native-reanimated\";\nimport { State } from \"react-native-gesture-handler\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { snapPoint } from \"./Animations\";\nimport { vec } from \"./Vectors\";\nvar proc = Animated.proc,\n  Clock = Animated.Clock,\n  Value = Animated.Value,\n  event = Animated.event,\n  add = Animated.add,\n  block = Animated.block,\n  cond = Animated.cond,\n  eq = Animated.eq,\n  multiply = Animated.multiply,\n  set = Animated.set,\n  stopClock = Animated.stopClock,\n  and = Animated.and,\n  not = Animated.not,\n  clockRunning = Animated.clockRunning,\n  startClock = Animated.startClock,\n  neq = Animated.neq,\n  call = Animated.call,\n  reDecay = Animated.decay,\n  reSpring = Animated.spring,\n  onChange = Animated.onChange,\n  debug = Animated.debug;\nexport var pinchBegan = proc(function (state) {\n  return Platform.OS === \"android\" ? cond(eq(diff(state), State.ACTIVE - State.BEGAN), eq(state, State.ACTIVE)) : eq(state, State.BEGAN);\n});\nexport var pinchActive = proc(function (state, numberOfPointers) {\n  return and(eq(state, State.ACTIVE), eq(numberOfPointers, 2), Platform.OS === \"android\" ? not(pinchBegan(state)) : 1);\n});\nexport var pinchEnd = proc(function (state, numberOfPointers) {\n  return Platform.OS === \"android\" ? or(eq(state, State.END), lessThan(numberOfPointers, 2)) : eq(state, State.END);\n});\nexport var withScaleOffset = function withScaleOffset(value, state) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Value(1);\n  return cond(eq(state, State.END), [set(offset, multiply(offset, value)), offset], multiply(offset, value));\n};\nexport var withOffset = function withOffset(value, state) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Value(0);\n  return cond(eq(state, State.END), [set(offset, add(offset, value)), offset], add(offset, value));\n};\nexport var withSpring = function withSpring(props) {\n  var _offset$props = _objectSpread({\n      offset: new Value(0)\n    }, props),\n    value = _offset$props.value,\n    velocity = _offset$props.velocity,\n    state = _offset$props.state,\n    snapPoints = _offset$props.snapPoints,\n    offset = _offset$props.offset,\n    springConfig = _offset$props.config,\n    onSnap = _offset$props.onSnap;\n  var clock = new Clock();\n  var springState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n  var config = _objectSpread({\n    toValue: new Value(0),\n    damping: 6,\n    mass: 1,\n    stiffness: 64,\n    overshootClamping: false,\n    restSpeedThreshold: 0.01,\n    restDisplacementThreshold: 0.01\n  }, springConfig);\n  var gestureAndAnimationIsOver = new Value(1);\n  var isSpringInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  var finishSpring = [set(offset, springState.position), stopClock(clock), set(gestureAndAnimationIsOver, 1)];\n  var snap = onSnap ? [cond(clockRunning(clock), call([springState.position], onSnap))] : [];\n  return block([cond(isSpringInterrupted, finishSpring), cond(gestureAndAnimationIsOver, set(springState.position, offset)), cond(neq(state, State.END), [set(gestureAndAnimationIsOver, 0), set(springState.finished, 0), set(springState.position, add(offset, value))]), cond(and(eq(state, State.END), not(gestureAndAnimationIsOver)), [cond(and(not(clockRunning(clock)), not(springState.finished)), [set(springState.velocity, velocity), set(springState.time, 0), set(config.toValue, snapPoint(springState.position, velocity, snapPoints)), startClock(clock)]), reSpring(clock, springState, config), cond(springState.finished, [].concat(snap, finishSpring))]), springState.position]);\n};\nexport var withDecay = function withDecay(config) {\n  var _offset$deceleration$ = _objectSpread({\n      offset: new Value(0),\n      deceleration: 0.998\n    }, config),\n    value = _offset$deceleration$.value,\n    velocity = _offset$deceleration$.velocity,\n    state = _offset$deceleration$.state,\n    offset = _offset$deceleration$.offset,\n    deceleration = _offset$deceleration$.deceleration;\n  var clock = new Clock();\n  var decayState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n  var isDecayInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  var finishDecay = [set(offset, decayState.position), stopClock(clock)];\n  return block([cond(isDecayInterrupted, finishDecay), cond(neq(state, State.END), [set(decayState.finished, 0), set(decayState.position, add(offset, value))]), cond(eq(state, State.END), [cond(and(not(clockRunning(clock)), not(decayState.finished)), [set(decayState.velocity, velocity), set(decayState.time, 0), startClock(clock)]), reDecay(clock, decayState, {\n    deceleration: deceleration\n  }), cond(decayState.finished, finishDecay)]), decayState.position]);\n};\nexport var onScrollEvent = function onScrollEvent(contentOffset) {\n  return event([{\n    nativeEvent: {\n      contentOffset: contentOffset\n    }\n  }]);\n};\nexport var onGestureEvent = function onGestureEvent(nativeEvent) {\n  var gestureEvent = event([{\n    nativeEvent: nativeEvent\n  }]);\n  return {\n    onHandlerStateChange: gestureEvent,\n    onGestureEvent: gestureEvent\n  };\n};\nexport var tapGestureHandler = function tapGestureHandler() {\n  var state = new Value(State.UNDETERMINED);\n  var position = vec.createValue(0);\n  var absolutePosition = vec.createValue(0);\n  var gestureHandler = onGestureEvent({\n    state: state,\n    x: position.x,\n    y: position.y,\n    absoluteX: absolutePosition.x,\n    absoluteY: absolutePosition.y\n  });\n  return {\n    gestureHandler: gestureHandler,\n    position: position,\n    absolutePosition: absolutePosition,\n    state: state\n  };\n};\nexport var panGestureHandler = function panGestureHandler() {\n  var position = vec.createValue(0);\n  var translation = vec.createValue(0);\n  var velocity = vec.createValue(0);\n  var state = new Value(State.UNDETERMINED);\n  var gestureHandler = onGestureEvent({\n    x: position.x,\n    translationX: translation.x,\n    velocityX: velocity.x,\n    y: position.y,\n    translationY: translation.y,\n    velocityY: velocity.y,\n    state: state\n  });\n  return {\n    position: position,\n    translation: translation,\n    velocity: velocity,\n    state: state,\n    gestureHandler: gestureHandler\n  };\n};\nexport var pinchGestureHandler = function pinchGestureHandler() {\n  var focal = vec.createValue(0, 0);\n  var scale = new Value(1);\n  var numberOfPointers = new Value(0);\n  var state = new Value(State.UNDETERMINED);\n  var gestureHandler = onGestureEvent({\n    numberOfPointers: numberOfPointers,\n    focalX: focal.x,\n    focalY: focal.y,\n    scale: scale,\n    state: state\n  });\n  return {\n    numberOfPointers: numberOfPointers,\n    scale: scale,\n    state: state,\n    gestureHandler: gestureHandler,\n    focal: focal\n  };\n};\nexport var rotationGestureHandler = function rotationGestureHandler() {\n  var anchor = vec.createValue(0, 0);\n  var rotation = new Value(0);\n  var state = new Value(State.UNDETERMINED);\n  var gestureHandler = onGestureEvent({\n    anchorX: anchor.x,\n    anchorY: anchor.y,\n    rotation: rotation,\n    state: state\n  });\n  return {\n    rotation: rotation,\n    state: state,\n    gestureHandler: gestureHandler,\n    anchor: anchor\n  };\n};\nexport var scrollHandler = function scrollHandler() {\n  var x = new Value(0);\n  var y = new Value(0);\n  var onScroll = onScrollEvent({\n    x: x,\n    y: y\n  });\n  return {\n    x: x,\n    y: y,\n    scrollHandler: {\n      onScroll: onScroll,\n      scrollEventThrottle: 1\n    }\n  };\n};\nexport var debugGestureState = function debugGestureState(label, state) {\n  var d = function d(value) {\n    return debug(label, new Value(value));\n  };\n  return onChange(state, cond(eq(state, State.UNDETERMINED), d(\"UNDETERMINED\"), cond(eq(state, State.BEGAN), d(\"BEGAN\"), cond(eq(state, State.ACTIVE), d(\"ACTIVE\"), cond(eq(state, State.END), d(\"END\"), cond(eq(state, State.CANCELLED), d(\"CANCELLED\"), d(\"FAILED\")))))));\n};","map":{"version":3,"mappings":"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","names":["Animated","diff","lessThan","or","State","snapPoint","vec","proc","Clock","Value","event","add","block","cond","eq","multiply","set","stopClock","and","not","clockRunning","startClock","neq","call","reDecay","decay","reSpring","spring","onChange","debug","pinchBegan","state","Platform","OS","ACTIVE","BEGAN","pinchActive","numberOfPointers","pinchEnd","END","withScaleOffset","value","offset","withOffset","withSpring","props","velocity","snapPoints","springConfig","config","onSnap","clock","springState","finished","position","time","toValue","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","gestureAndAnimationIsOver","isSpringInterrupted","finishSpring","snap","withDecay","deceleration","decayState","isDecayInterrupted","finishDecay","onScrollEvent","contentOffset","nativeEvent","onGestureEvent","gestureEvent","onHandlerStateChange","tapGestureHandler","UNDETERMINED","createValue","absolutePosition","gestureHandler","x","y","absoluteX","absoluteY","panGestureHandler","translation","translationX","velocityX","translationY","velocityY","pinchGestureHandler","focal","scale","focalX","focalY","rotationGestureHandler","anchor","rotation","anchorX","anchorY","scrollHandler","onScroll","scrollEventThrottle","debugGestureState","label","d","CANCELLED"],"sources":["Gesture.ts"],"sourcesContent":["import Animated, { diff, lessThan, or } from \"react-native-reanimated\";\nimport {\n  FlingGestureHandlerEventExtra,\n  ForceTouchGestureHandlerEventExtra,\n  GestureHandlerStateChangeNativeEvent,\n  LongPressGestureHandlerEventExtra,\n  PanGestureHandlerEventExtra,\n  PinchGestureHandlerEventExtra,\n  RotationGestureHandlerEventExtra,\n  State,\n  TapGestureHandlerEventExtra,\n} from \"react-native-gesture-handler\";\nimport { Platform } from \"react-native\";\n\nimport { snapPoint } from \"./Animations\";\nimport { vec } from \"./Vectors\";\n\nconst {\n  proc,\n  Clock,\n  Value,\n  event,\n  add,\n  block,\n  cond,\n  eq,\n  multiply,\n  set,\n  stopClock,\n  and,\n  not,\n  clockRunning,\n  startClock,\n  neq,\n  call,\n  decay: reDecay,\n  spring: reSpring,\n  onChange,\n  debug,\n} = Animated;\n\n// See: https://github.com/kmagiera/react-native-gesture-handler/issues/553\nexport const pinchBegan = proc((state: Animated.Node<State>) =>\n  Platform.OS === \"android\"\n    ? cond(eq(diff(state), State.ACTIVE - State.BEGAN), eq(state, State.ACTIVE))\n    : eq(state, State.BEGAN)\n);\n\nexport const pinchActive = proc(\n  (state: Animated.Node<State>, numberOfPointers: Animated.Node<number>) =>\n    and(\n      eq(state, State.ACTIVE),\n      eq(numberOfPointers, 2),\n      Platform.OS === \"android\" ? not(pinchBegan(state)) : 1\n    )\n);\n\nexport const pinchEnd = proc(\n  (state: Animated.Node<State>, numberOfPointers: Animated.Node<number>) =>\n    Platform.OS === \"android\"\n      ? or(eq(state, State.END), lessThan(numberOfPointers, 2))\n      : eq(state, State.END)\n);\n\nexport const withScaleOffset = (\n  value: Animated.Node<number>,\n  state: Animated.Node<State>,\n  offset: Animated.Value<number> = new Value(1)\n) =>\n  cond(\n    eq(state, State.END),\n    [set(offset, multiply(offset, value)), offset],\n    multiply(offset, value)\n  );\n\nexport const withOffset = (\n  value: Animated.Node<number>,\n  state: Animated.Node<State>,\n  offset: Animated.Value<number> = new Value(0)\n) =>\n  cond(\n    eq(state, State.END),\n    [set(offset, add(offset, value)), offset],\n    add(offset, value)\n  );\n\ninterface PrivateSpringConfig extends Animated.SpringConfig {\n  toValue: Animated.Value<number>;\n}\n\ntype SpringConfig = Omit<Animated.SpringConfig, \"toValue\">;\n\nexport interface WithSpringParams {\n  value: Animated.Adaptable<number>;\n  velocity: Animated.Adaptable<number>;\n  state: Animated.Node<State>;\n  snapPoints: Animated.Adaptable<number>[];\n  offset?: Animated.Value<number>;\n  config?: SpringConfig;\n  onSnap?: (value: readonly number[]) => void;\n}\n\nexport const withSpring = (props: WithSpringParams) => {\n  const {\n    value,\n    velocity,\n    state,\n    snapPoints,\n    offset,\n    config: springConfig,\n    onSnap,\n  } = {\n    offset: new Value(0),\n    ...props,\n  };\n  const clock = new Clock();\n  const springState: Animated.SpringState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n\n  const config: PrivateSpringConfig = {\n    toValue: new Value(0),\n    damping: 6,\n    mass: 1,\n    stiffness: 64,\n    overshootClamping: false,\n    restSpeedThreshold: 0.01,\n    restDisplacementThreshold: 0.01,\n    ...springConfig,\n  };\n\n  const gestureAndAnimationIsOver = new Value(1);\n  const isSpringInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  const finishSpring = [\n    set(offset, springState.position),\n    stopClock(clock),\n    set(gestureAndAnimationIsOver, 1),\n  ];\n  const snap = onSnap\n    ? [cond(clockRunning(clock), call([springState.position], onSnap))]\n    : [];\n  return block([\n    cond(isSpringInterrupted, finishSpring),\n    cond(gestureAndAnimationIsOver, set(springState.position, offset)),\n    cond(neq(state, State.END), [\n      set(gestureAndAnimationIsOver, 0),\n      set(springState.finished, 0),\n      set(springState.position, add(offset, value)),\n    ]),\n    cond(and(eq(state, State.END), not(gestureAndAnimationIsOver)), [\n      cond(and(not(clockRunning(clock)), not(springState.finished)), [\n        set(springState.velocity, velocity),\n        set(springState.time, 0),\n        set(\n          config.toValue,\n          snapPoint(springState.position, velocity, snapPoints)\n        ),\n        startClock(clock),\n      ]),\n      reSpring(clock, springState, config),\n      cond(springState.finished, [...snap, ...finishSpring]),\n    ]),\n    springState.position,\n  ]);\n};\n\ninterface WithDecayParams {\n  value: Animated.Adaptable<number>;\n  velocity: Animated.Adaptable<number>;\n  state: Animated.Node<State>;\n  offset?: Animated.Value<number>;\n  deceleration?: number;\n}\n\nexport const withDecay = (config: WithDecayParams) => {\n  const { value, velocity, state, offset, deceleration } = {\n    offset: new Value(0),\n    deceleration: 0.998,\n    ...config,\n  };\n  const clock = new Clock();\n  const decayState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n\n  const isDecayInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  const finishDecay = [set(offset, decayState.position), stopClock(clock)];\n\n  return block([\n    cond(isDecayInterrupted, finishDecay),\n    cond(neq(state, State.END), [\n      set(decayState.finished, 0),\n      set(decayState.position, add(offset, value)),\n    ]),\n    cond(eq(state, State.END), [\n      cond(and(not(clockRunning(clock)), not(decayState.finished)), [\n        set(decayState.velocity, velocity),\n        set(decayState.time, 0),\n        startClock(clock),\n      ]),\n      reDecay(clock, decayState, { deceleration }),\n      cond(decayState.finished, finishDecay),\n    ]),\n    decayState.position,\n  ]);\n};\n\nexport const onScrollEvent = (contentOffset: {\n  x?: Animated.Node<number>;\n  y?: Animated.Node<number>;\n}) =>\n  event([\n    {\n      nativeEvent: {\n        contentOffset,\n      },\n    },\n  ]);\n\ntype NativeEvent = GestureHandlerStateChangeNativeEvent &\n  (\n    | PanGestureHandlerEventExtra\n    | TapGestureHandlerEventExtra\n    | LongPressGestureHandlerEventExtra\n    | RotationGestureHandlerEventExtra\n    | FlingGestureHandlerEventExtra\n    | PinchGestureHandlerEventExtra\n    | ForceTouchGestureHandlerEventExtra\n  );\n\ntype Adaptable<T> = { [P in keyof T]: Animated.Adaptable<T[P]> };\n\nexport const onGestureEvent = (\n  nativeEvent: Partial<Adaptable<NativeEvent>>\n) => {\n  const gestureEvent = event([{ nativeEvent }]);\n  return {\n    onHandlerStateChange: gestureEvent,\n    onGestureEvent: gestureEvent,\n  };\n};\n\nexport const tapGestureHandler = () => {\n  const state = new Value(State.UNDETERMINED);\n  const position = vec.createValue(0);\n  const absolutePosition = vec.createValue(0);\n  const gestureHandler = onGestureEvent({\n    state,\n    x: position.x,\n    y: position.y,\n    absoluteX: absolutePosition.x,\n    absoluteY: absolutePosition.y,\n  });\n  return {\n    gestureHandler,\n    position,\n    absolutePosition,\n    state,\n  };\n};\n\nexport const panGestureHandler = () => {\n  const position = vec.createValue(0);\n  const translation = vec.createValue(0);\n  const velocity = vec.createValue(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    x: position.x,\n    translationX: translation.x,\n    velocityX: velocity.x,\n    y: position.y,\n    translationY: translation.y,\n    velocityY: velocity.y,\n    state,\n  });\n  return {\n    position,\n    translation,\n    velocity,\n    state,\n    gestureHandler,\n  };\n};\n\nexport const pinchGestureHandler = () => {\n  const focal = vec.createValue(0, 0);\n  const scale = new Value(1);\n  const numberOfPointers = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    numberOfPointers,\n    focalX: focal.x,\n    focalY: focal.y,\n    scale,\n    state,\n  });\n  return {\n    numberOfPointers,\n    scale,\n    state,\n    gestureHandler,\n    focal,\n  };\n};\n\nexport const rotationGestureHandler = () => {\n  const anchor = vec.createValue(0, 0);\n  const rotation = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    anchorX: anchor.x,\n    anchorY: anchor.y,\n    rotation,\n    state,\n  });\n  return {\n    rotation,\n    state,\n    gestureHandler,\n    anchor,\n  };\n};\n\nexport const scrollHandler = () => {\n  const x = new Value(0);\n  const y = new Value(0);\n  const onScroll = onScrollEvent({ x, y });\n  return {\n    x,\n    y,\n    scrollHandler: {\n      onScroll,\n      scrollEventThrottle: 1,\n    },\n  };\n};\n\nexport const debugGestureState = (\n  label: string,\n  state: Animated.Node<State>\n) => {\n  const d = (value: string): Animated.Node<number> =>\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    debug(label, new Value(value));\n  return onChange(\n    state,\n    cond(\n      eq(state, State.UNDETERMINED),\n      d(\"UNDETERMINED\"),\n      cond(\n        eq(state, State.BEGAN),\n        d(\"BEGAN\"),\n        cond(\n          eq(state, State.ACTIVE),\n          d(\"ACTIVE\"),\n          cond(\n            eq(state, State.END),\n            d(\"END\"),\n            cond(eq(state, State.CANCELLED), d(\"CANCELLED\"), d(\"FAILED\"))\n          )\n        )\n      )\n    )\n  );\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nvar Revision = function () {\n  function Revision() {\n    _classCallCheck(this, Revision);\n    this.id = -1;\n    this.title = \"\";\n    this.progress = 0;\n    this.strt = 0;\n    this.end = 0;\n    this.dateofLastRevision = new Date();\n    this.numDays = 0;\n    this.lastAyahRead = -1;\n    this.bIsNewRev = false;\n  }\n  _createClass(Revision, [{\n    key: \"fillFromSerializedObj\",\n    value: function fillFromSerializedObj(obj) {\n      this.id = obj.id;\n      this.title = obj.title;\n      this.progress = obj.progress;\n      this.strt = obj.strt;\n      this.end = obj.end;\n      this.dateofLastRevision = new Date(obj.dateofLastRevision);\n      this.updateNumDays();\n      if (obj.hasOwnProperty(\"lastAyahRead\")) this.lastAyahRead = obj.lastAyahRead;else this.lastAyahRead = -1;\n      if (obj.hasOwnProperty(\"bIsNewRev\")) this.bIsNewRev = obj.bIsNewRev;else this.bIsNewRev = false;\n    }\n  }, {\n    key: \"updateNumDays\",\n    value: function updateNumDays() {\n      this.numDays = Math.round((new Date().getTime() - this.dateofLastRevision.getTime()) / (1000 * 60 * 60 * 24));\n    }\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress(iAyahGlobal) {\n      this.lastAyahRead = iAyahGlobal;\n      if (this.end == this.strt) this.progress = 50;else {\n        if (iAyahGlobal > this.strt) {\n          if (iAyahGlobal < this.end) {\n            this.progress = Math.floor(100 * (iAyahGlobal - this.strt) / (this.end - this.strt));\n          } else {\n            this.progress = 100;\n          }\n        } else {\n          this.progress = 0;\n        }\n      }\n    }\n  }, {\n    key: \"getProgressAyah\",\n    value: function getProgressAyah() {\n      if (this.lastAyahRead != -1) return this.lastAyahRead;\n      if (this.progress <= 0) return this.strt;\n      if (this.progress >= 100) return this.end;\n      if (this.end == this.strt) return this.strt;\n      var shift = this.progress / 100.0 * (this.end - this.strt);\n      return Math.floor(shift + -this.strt);\n    }\n  }, {\n    key: \"makeRevisionDateNow\",\n    value: function makeRevisionDateNow() {\n      this.dateofLastRevision = new Date();\n      this.numDays = 0;\n      this.progress = 0;\n      this.bIsNewRev = false;\n    }\n  }, {\n    key: \"getRevisionTitle\",\n    value: function getRevisionTitle() {\n      var strTitle = this.title;\n      return strTitle;\n    }\n  }, {\n    key: \"getNumdaysText\",\n    value: function getNumdaysText() {\n      var strNumDays = \"\";\n      if (this.numDays >= 1000) strNumDays = \"  ∞ \";else if (this.numDays < 10) strNumDays = \"  \" + this.numDays + \"\";else if (this.numDays < 100) strNumDays = \" \" + this.numDays + \"\";\n      if (this.numDays < 1) strNumDays = \"\";\n      return strNumDays;\n    }\n  }, {\n    key: \"getAsStringArr\",\n    value: function getAsStringArr() {\n      var ret = [];\n      ret.push(\"ver === 1\");\n      ret.push(\"lines === 10\");\n      ret.push(\"id === \" + this.id);\n      ret.push(\"title === \" + this.title);\n      ret.push(\"progress === \" + this.progress);\n      ret.push(\"strt === \" + this.strt);\n      ret.push(\"end === \" + this.end);\n      ret.push(\"dateofLastRevision === \" + this.dateofLastRevision.toString());\n      ret.push(\"numDays === \" + this.numDays);\n      ret.push(\"lastAyahRead === \" + this.lastAyahRead);\n      return ret;\n    }\n  }, {\n    key: \"fillFromStringArr\",\n    value: function fillFromStringArr(strArr, iStrt) {\n      try {\n        var version = parseInt(strArr[iStrt++].split(\"===\")[1]);\n        if (version == 1) {\n          var numLines = parseInt(strArr[iStrt++].split(\"===\")[1]);\n          var iConsumed = 10;\n          if (numLines != iConsumed) return -3;\n          this.id = parseInt(strArr[iStrt++].split(\"===\")[1]);\n          this.title = strArr[iStrt++].split(\"===\")[1];\n          this.progress = parseFloat(strArr[iStrt++].split(\"===\")[1]);\n          this.strt = parseInt(strArr[iStrt++].split(\"===\")[1]);\n          this.end = parseInt(strArr[iStrt++].split(\"===\")[1]);\n          this.dateofLastRevision = new Date(strArr[iStrt++].split(\"===\")[1]);\n          this.numDays = parseInt(strArr[iStrt++].split(\"===\")[1]);\n          this.lastAyahRead = parseInt(strArr[iStrt++].split(\"===\")[1]);\n          this.bIsNewRev = true;\n          return iConsumed;\n        } else {\n          return -2;\n        }\n      } catch (error) {\n        console.log(\"error : \" + error);\n        return -1;\n      }\n    }\n  }]);\n  return Revision;\n}();\nexport { Revision as default };","map":{"version":3,"names":["Revision","id","title","progress","strt","end","dateofLastRevision","Date","numDays","lastAyahRead","bIsNewRev","obj","updateNumDays","hasOwnProperty","Math","round","getTime","iAyahGlobal","floor","shift","strTitle","strNumDays","ret","push","toString","strArr","iStrt","version","parseInt","split","numLines","iConsumed","parseFloat","error","console","log"],"sources":["C:/Users/Tysseer Harak/Desktop/Data/Code/React Native/Dawem/app/js/helpers/Revision.js"],"sourcesContent":["export default class Revision {\n  constructor() {\n    this.id = -1;\n    this.title = \"\";\n    this.progress = 0;\n    this.strt = 0;\n    this.end = 0;\n    this.dateofLastRevision = new Date();\n    this.numDays = 0;\n    this.lastAyahRead = -1;\n    this.bIsNewRev = false;\n  }\n  fillFromSerializedObj(obj) {\n    this.id = obj.id;\n    this.title = obj.title;\n    this.progress = obj.progress;\n    this.strt = obj.strt;\n    this.end = obj.end;\n    this.dateofLastRevision = new Date(obj.dateofLastRevision);\n    this.updateNumDays();\n    if (obj.hasOwnProperty(\"lastAyahRead\"))\n      this.lastAyahRead = obj.lastAyahRead;\n    else this.lastAyahRead = -1;\n    if (obj.hasOwnProperty(\"bIsNewRev\")) this.bIsNewRev = obj.bIsNewRev;\n    else this.bIsNewRev = false;\n  }\n  updateNumDays() {\n    this.numDays = Math.round(\n      (new Date().getTime() - this.dateofLastRevision.getTime()) /\n        (1000 * 60 * 60 * 24)\n    );\n  }\n  updateProgress(iAyahGlobal) {\n    this.lastAyahRead = iAyahGlobal;\n\n    if (this.end == this.strt) this.progress = 50;\n    else {\n      if (iAyahGlobal > this.strt) {\n        if (iAyahGlobal < this.end) {\n          this.progress = Math.floor(\n            (100 * (iAyahGlobal - this.strt)) / (this.end - this.strt)\n          );\n        } else {\n          this.progress = 100;\n        }\n      } else {\n        this.progress = 0;\n      }\n    }\n  }\n  getProgressAyah() {\n    if (this.lastAyahRead != -1) return this.lastAyahRead;\n    if (this.progress <= 0) return this.strt;\n    if (this.progress >= 100) return this.end;\n    if (this.end == this.strt) return this.strt;\n    var shift = (this.progress / 100.0) * (this.end - this.strt);\n    return Math.floor(shift + -this.strt);\n  }\n  makeRevisionDateNow() {\n    this.dateofLastRevision = new Date();\n    this.numDays = 0;\n    this.progress = 0;\n    this.bIsNewRev = false;\n  }\n  getRevisionTitle() {\n    var strTitle = this.title;\n    // if (strTitle.length > 14) {\n    //   strTitle = strTitle.substring(0, 11);\n    //   strTitle += \"...\";\n    // }\n    return strTitle;\n  }\n  getNumdaysText() {\n    var strNumDays = \"\";\n    //if (this.bIsNewRev) strNumDays = \"\";\n    if (this.numDays >= 1000) strNumDays = \"  ∞ \";\n    else if (this.numDays < 10) strNumDays = \"  \" + this.numDays + \"\";\n    //one digit\n    else if (this.numDays < 100) strNumDays = \" \" + this.numDays + \"\"; //two digits\n    if (this.numDays < 1) strNumDays = \"\";\n\n    return strNumDays;\n  }\n  getAsStringArr() {\n    var ret = [];\n    ret.push(\"ver === 1\");\n    ret.push(\"lines === 10\");\n    ret.push(\"id === \" + this.id);\n    ret.push(\"title === \" + this.title);\n    ret.push(\"progress === \" + this.progress);\n    ret.push(\"strt === \" + this.strt);\n    ret.push(\"end === \" + this.end);\n    ret.push(\"dateofLastRevision === \" + this.dateofLastRevision.toString());\n    ret.push(\"numDays === \" + this.numDays);\n    ret.push(\"lastAyahRead === \" + this.lastAyahRead);\n    return ret;\n  }\n  fillFromStringArr(strArr, iStrt) {\n    /* ver1 revision structure as of 4/4/2022:\n    ver = 1\n    numLines=10\n    rev.id, // int\n    rev.title,// str\n    rev.progress,//real\n    rev.strt,//int\n    rev.end,//int\n    rev.dateofLastRevision,// Date() object\n    rev.numDays,//int\n    rev.lastAyahRead,//int\n    */\n    try {\n      let version = parseInt(strArr[iStrt++].split(\"===\")[1]);\n      if (version == 1) {\n        let numLines = parseInt(strArr[iStrt++].split(\"===\")[1]);\n        var iConsumed = 10; // expected\n        if (numLines != iConsumed) return -3;\n        this.id = parseInt(strArr[iStrt++].split(\"===\")[1]);\n        this.title = strArr[iStrt++].split(\"===\")[1];\n        this.progress = parseFloat(strArr[iStrt++].split(\"===\")[1]);\n        this.strt = parseInt(strArr[iStrt++].split(\"===\")[1]);\n        this.end = parseInt(strArr[iStrt++].split(\"===\")[1]);\n        this.dateofLastRevision = new Date(strArr[iStrt++].split(\"===\")[1]);\n        this.numDays = parseInt(strArr[iStrt++].split(\"===\")[1]);\n        this.lastAyahRead = parseInt(strArr[iStrt++].split(\"===\")[1]);\n        this.bIsNewRev = true;\n        return iConsumed;\n      } else {\n        return -2; //unkown version\n      }\n    } catch (error) {\n      console.log(\"error : \" + error);\n      return -1;\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Ionicons, MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport PropTypes from \"prop-types\";\nimport allAyat from \"../helpers/quranAyat\";\nimport { connect } from \"react-redux\";\nimport StringsManager, * as strings from \"../helpers/StringsManager\";\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  height = _Dimensions$get.height,\n  width = _Dimensions$get.width;\nimport ActionBtn from \"../../components/ActionBtn\";\nimport { colors } from \"../../constants\";\nimport { getTitleFontBasicStyle, getLargeContentFontBasicStyle } from \"../helpers/scripts\";\nvar height18 = height / 18;\nvar height50 = height / 50;\nimport MiscUtilities from \"../helpers/MiscUtilities\";\nimport QuranIndexer from \"../helpers/QuranIndexer\";\nimport { Audio } from \"expo-av\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Track = _createClass(function Track() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var ayaInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var url = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"unkown\";\n  var title = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"unkown\";\n  var album = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"unkown\";\n  _classCallCheck(this, Track);\n  this.id = id;\n  this.ayaInfo = ayaInfo;\n  this.url = url;\n  this.title = title;\n  this.album = album;\n});\nvar ModalPlayback = function (_Component) {\n  _inherits(ModalPlayback, _Component);\n  var _super = _createSuper(ModalPlayback);\n  function ModalPlayback(props) {\n    var _this;\n    _classCallCheck(this, ModalPlayback);\n    _this = _super.call(this, props);\n    _this.bIsPlaying = false;\n    _this.bIsRepeat = true;\n    _this.bIsAr = _this.props.strLang == \"ar\";\n    _this.stringsManager = new StringsManager();\n    _this.stringsManager.setLanguage(_this.props.strLang);\n    _this.revision = _this.props.curRevision;\n    if (_this.revision == null) {\n      _this.revision = new Revision();\n      _this.revision.bIsNewRev = true;\n      _this.revision.title = _this.bIsAr ? \"مراجعة اختبارية\" : \"Test Revision\";\n      _this.revision.strt = 1;\n      _this.revision.end = 7;\n    }\n    _this.currentAyah = _this.revision.strt;\n    _this.currentAyahProgress = 0;\n    _this.fillAyahText();\n    _this.state = {\n      animatedValue: new Animated.Value(0),\n      bRefresh: false\n    };\n    _this.tracks = _this.constructTracks();\n    _this.animTimer = Animated.timing(_this.state.animatedValue, {\n      toValue: 1,\n      duration: 1000,\n      useNativeDriver: true\n    }).start(function (_ref) {\n      var finished = _ref.finished;\n      _this._loadNewPlaybackInstance(false);\n    });\n    _this.ayahStyle = getTitleFontBasicStyle(\"ar\");\n    _this.ayahStyle.lineHeight += 14;\n    _this.ayahNumLines = 2;\n    _this.currentAyahScroll = 0;\n    _this.numberStyle = getLargeContentFontBasicStyle(\"ar\");\n    _this.titleStyle = _this.getTitleTextStyle();\n    _this.scrollView = React.createRef();\n    return _this;\n  }\n  _createClass(ModalPlayback, [{\n    key: \"constructTracks\",\n    value: function constructTracks() {\n      var ret = [];\n      var baseURL = \"https://filedn.eu/lN31ymlFlgGQjKjbcGyu9xY/QuranVerses/Hosary/\";\n      for (var i = this.revision.strt; i <= this.revision.end; i++) {\n        var ayaInfo = this.props.quranInfo.getAyahLocalIndx(i);\n        var title = this.bIsAr ? this.props.quranInfo.getSurahNameAr(ayaInfo.localSurahIndx) : this.props.quranInfo.getSurahNameTrns(ayaInfo.localSurahIndx);\n        var trackname = (\"00\" + ayaInfo.localSurahIndx).slice(-3) + (\"00\" + ayaInfo.localAyahIndx).slice(-3) + \".mp3\";\n        var track = new Track(id = i, ayaInfo = ayaInfo, url = baseURL + trackname, title = title, album = this.revision.title);\n        ret.push(track);\n      }\n      return ret;\n    }\n  }, {\n    key: \"fillAyahText\",\n    value: function fillAyahText() {\n      this.ayahText = allAyat[this.currentAyah].text;\n      this.ayahNumber = this.formatAyahNumber();\n    }\n  }, {\n    key: \"handlePress\",\n    value: function handlePress() {\n      this.state.animatedValue = new Animated.Value(0);\n      this._unloadPlaybackInstance();\n      this.props.setModalVisible(false);\n    }\n  }, {\n    key: \"_onPlaybackStatusUpdate\",\n    value: function _onPlaybackStatusUpdate(status) {\n      if (status.isLoaded) {\n        if (status.didJustFinish && !status.isLooping) {\n          this._advanceIndex(true);\n          this._loadNewPlaybackInstance(this.bIsPlaying);\n        } else if (this.ayahNumLines > 3) {\n          var curProgress = parseInt(100 * status.positionMillis / status.durationMillis);\n          if (curProgress - this.currentAyahProgress > 5) {\n            this.currentAyahProgress = curProgress;\n            var lineEstimate = Math.floor(this.ayahNumLines * (curProgress / 100));\n            this.currentAyahScroll = this.ayahStyle.lineHeight * lineEstimate;\n            this.scrollView.scrollTo({\n              x: 0,\n              y: this.currentAyahScroll,\n              animated: true\n            });\n          }\n        }\n      } else {\n        if (status.error) {\n          alert(\"FATAL PLAYER ERROR:\" + status.error);\n        }\n      }\n    }\n  }, {\n    key: \"_unloadPlaybackInstance\",\n    value: function _unloadPlaybackInstance() {\n      return _regeneratorRuntime.async(function _unloadPlaybackInstance$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(this.playbackInstance != null)) {\n                _context.next = 4;\n                break;\n              }\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(this.playbackInstance.unloadAsync());\n            case 3:\n              this.playbackInstance = null;\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"_loadNewPlaybackInstance\",\n    value: function _loadNewPlaybackInstance(bDoPlay) {\n      var source, initialStatus, _await$Audio$Sound$cr, sound, status;\n      return _regeneratorRuntime.async(function _loadNewPlaybackInstance$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(this._unloadPlaybackInstance());\n            case 2:\n              this.fillAyahText();\n              source = {\n                uri: this.tracks[this.currentAyah - this.revision.strt].url\n              };\n              initialStatus = {\n                shouldPlay: bDoPlay,\n                rate: 1,\n                shouldCorrectPitch: true,\n                isMuted: false,\n                isLooping: false\n              };\n              _context2.next = 7;\n              return _regeneratorRuntime.awrap(Audio.Sound.createAsync(source, initialStatus, this._onPlaybackStatusUpdate.bind(this), true));\n            case 7:\n              _await$Audio$Sound$cr = _context2.sent;\n              sound = _await$Audio$Sound$cr.sound;\n              status = _await$Audio$Sound$cr.status;\n              this.playbackInstance = sound;\n              this.refresh();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"_advanceIndex\",\n    value: function _advanceIndex(forward) {\n      if (forward) this.currentAyah += 1;else this.currentAyah -= 1;\n      if (this.currentAyah > this.revision.end) if (this.bIsRepeat) this.currentAyah = this.revision.strt;else {\n        this.currentAyah = this.revision.end;\n        this.onStop();\n      }\n      if (this.currentAyah < this.revision.strt) if (this.bIsRepeat) this.currentAyah = this.revision.end;else {\n        this.currentAyah = this.revision.strt;\n        this.onStop();\n      }\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.setState({\n        bRefresh: !this.state.bRefresh\n      });\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (this.playbackInstance != null) {\n        if (this.bIsPlaying) {\n          this.playbackInstance.pauseAsync();\n        } else {\n          this.playbackInstance.playAsync();\n        }\n      }\n      this.bIsPlaying = !this.bIsPlaying;\n      this.refresh();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.bIsPlaying = false;\n      if (this.playbackInstance != null) {\n        this.playbackInstance.stopAsync();\n      }\n      this.refresh();\n    }\n  }, {\n    key: \"onRepeat\",\n    value: function onRepeat() {\n      this.bIsRepeat = !this.bIsRepeat;\n      this.refresh();\n    }\n  }, {\n    key: \"formatAyahNumber\",\n    value: function formatAyahNumber() {\n      var str = MiscUtilities.convertToIndianNumbers(allAyat[this.currentAyah].index.toString());\n      return \" (\" + str + \") \";\n    }\n  }, {\n    key: \"onAyahTextLayout\",\n    value: function onAyahTextLayout(e) {\n      this.ayahNumLines = Math.max(3, e.nativeEvent.lines.length);\n      this.refresh();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var strMgr = new StringsManager();\n      strMgr.setLanguage(this.props.strLang);\n      return _jsx(Modal, {\n        transparent: true,\n        visible: true,\n        children: _jsx(Animated.View, {\n          style: {\n            transform: [{\n              translateY: this.state.animatedValue.interpolate({\n                inputRange: [0, 1],\n                outputRange: [-600, height / 5]\n              })\n            }],\n            height: \"57%\",\n            width: \"95%\",\n            paddingHorizontal: 5,\n            borderRadius: 12,\n            backgroundColor: colors.faddedGreen,\n            justifyContent: \"center\",\n            alignSelf: \"center\"\n          },\n          children: _jsxs(View, {\n            style: styles.contentContainer,\n            children: [_jsx(Text, {\n              style: this.titleStyle,\n              children: this.revision.title\n            }), _jsx(ScrollView, {\n              style: {\n                flex: 1\n              },\n              ref: function ref(_ref2) {\n                return _this2.scrollView = _ref2;\n              },\n              children: _jsxs(Text, {\n                numberOfLines: this.ayahNumLines,\n                onTextLayout: this.onAyahTextLayout.bind(this),\n                children: [_jsx(Text, {\n                  style: this.ayahStyle,\n                  children: this.ayahText\n                }), _jsx(Text, {\n                  style: this.numberStyle,\n                  children: this.ayahNumber\n                })]\n              })\n            }), _jsxs(View, {\n              style: styles.playBackBar,\n              children: [_jsx(TouchableOpacity, {\n                activeOpacity: 0.7,\n                onPress: this.onPlay.bind(this),\n                children: _jsx(Ionicons, {\n                  name: this.bIsPlaying ? \"pause-sharp\" : \"play-sharp\",\n                  size: height18 - 8,\n                  margin: 4,\n                  color: colors.primary\n                })\n              }), _jsx(TouchableOpacity, {\n                activeOpacity: 0.7,\n                onPress: this.onStop.bind(this),\n                children: _jsx(Ionicons, {\n                  name: \"stop-sharp\",\n                  size: height18 - 8,\n                  margin: 4,\n                  color: colors.primary\n                })\n              }), _jsx(TouchableOpacity, {\n                activeOpacity: 0.7,\n                onPress: this.onRepeat.bind(this),\n                children: _jsx(MaterialCommunityIcons, {\n                  name: this.bIsRepeat ? \"repeat\" : \"repeat-off\",\n                  size: height18 - 8,\n                  margin: 4,\n                  color: colors.primary\n                })\n              })]\n            }), _jsx(ActionBtn, {\n              style: {\n                width: \"62%\"\n              },\n              text: strMgr.getStr(strings.STR_CLOSE),\n              fullWidth: false,\n              handler: this.handlePress.bind(this),\n              lang: this.props.strLang\n            })]\n          })\n        })\n      });\n    }\n  }, {\n    key: \"getTitleTextStyle\",\n    value: function getTitleTextStyle() {\n      return [{\n        textAlign: \"center\",\n        color: \"#0B721E\",\n        marginVertical: height / 200\n      }, getLargeContentFontBasicStyle(this.props.strLang)];\n    }\n  }]);\n  return ModalPlayback;\n}(Component);\nModalPlayback.propTypes = {\n  strLang: PropTypes.string.isRequired,\n  quranInfo: PropTypes.instanceOf(QuranIndexer).isRequired,\n  setModalVisible: PropTypes.func.isRequired\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    curRevision: state.curRevision,\n    strLang: state.strLang\n  };\n};\nvar mapDispatchToProps = function mapDispatchToProps() {\n  return {};\n};\nexport default connect(mapStateToProps, mapDispatchToProps())(ModalPlayback);\nvar styles = StyleSheet.create({\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  badge: {\n    width: 90,\n    height: 90\n  },\n  contentContainer: {\n    width: \"95%\",\n    height: \"90%\",\n    alignSelf: \"center\",\n    marginTop: 20,\n    marginBottom: 20,\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n    borderTopLeftRadius: 30,\n    borderTopRightRadius: 30,\n    borderBottomLeftRadius: 30,\n    borderBottomRightRadius: 30\n  },\n  playBackBar: {\n    flexDirection: \"row-reverse\",\n    alignItems: \"center\",\n    alignSelf: \"flex-start\",\n    justifyContent: \"space-around\",\n    width: \"100%\",\n    marginBottom: 20\n  }\n});","map":{"version":3,"names":["React","Component","Ionicons","MaterialCommunityIcons","PropTypes","allAyat","connect","StringsManager","strings","Dimensions","get","height","width","ActionBtn","colors","getTitleFontBasicStyle","getLargeContentFontBasicStyle","height18","height50","MiscUtilities","QuranIndexer","Audio","Track","id","ayaInfo","url","title","album","ModalPlayback","props","bIsPlaying","bIsRepeat","bIsAr","strLang","stringsManager","setLanguage","revision","curRevision","Revision","bIsNewRev","strt","end","currentAyah","currentAyahProgress","fillAyahText","state","animatedValue","Animated","Value","bRefresh","tracks","constructTracks","animTimer","timing","toValue","duration","useNativeDriver","start","finished","_loadNewPlaybackInstance","ayahStyle","lineHeight","ayahNumLines","currentAyahScroll","numberStyle","titleStyle","getTitleTextStyle","scrollView","createRef","ret","baseURL","i","quranInfo","getAyahLocalIndx","getSurahNameAr","localSurahIndx","getSurahNameTrns","trackname","slice","localAyahIndx","track","push","ayahText","text","ayahNumber","formatAyahNumber","_unloadPlaybackInstance","setModalVisible","status","isLoaded","didJustFinish","isLooping","_advanceIndex","curProgress","parseInt","positionMillis","durationMillis","lineEstimate","Math","floor","scrollTo","x","y","animated","error","alert","playbackInstance","unloadAsync","bDoPlay","source","uri","initialStatus","shouldPlay","rate","shouldCorrectPitch","isMuted","Sound","createAsync","_onPlaybackStatusUpdate","bind","sound","refresh","forward","onStop","setState","pauseAsync","playAsync","stopAsync","str","convertToIndianNumbers","index","toString","e","max","nativeEvent","lines","length","strMgr","transform","translateY","interpolate","inputRange","outputRange","paddingHorizontal","borderRadius","backgroundColor","faddedGreen","justifyContent","alignSelf","styles","contentContainer","flex","ref","onAyahTextLayout","playBackBar","onPlay","primary","onRepeat","getStr","STR_CLOSE","handlePress","textAlign","color","marginVertical","propTypes","string","isRequired","instanceOf","func","mapStateToProps","mapDispatchToProps","StyleSheet","create","centeredView","alignItems","badge","marginTop","marginBottom","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","flexDirection"],"sources":["C:/Users/Tysseer Harak/Desktop/Data/Code/React Native/Dawem/app/js/modals/ModalPlayback.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  Modal,\r\n  Text,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  Image,\r\n  Animated,\r\n  Dimensions,\r\n} from \"react-native\";\r\nimport { Ionicons, MaterialCommunityIcons } from \"@expo/vector-icons\";\r\nimport PropTypes from \"prop-types\";\r\nimport allAyat from \"../helpers/quranAyat\";\r\nimport { connect } from \"react-redux\";\r\nimport StringsManager, * as strings from \"../helpers/StringsManager\";\r\nconst { height, width } = Dimensions.get(\"window\");\r\nimport ActionBtn from \"app/components/ActionBtn\";\r\nimport { colors } from \"app/constants\";\r\nimport {\r\n  getTitleFontBasicStyle,\r\n  getLargeContentFontBasicStyle,\r\n} from \"../helpers/scripts\";\r\nconst height18 = height / 18;\r\nconst height50 = height / 50;\r\nimport MiscUtilities from \"../helpers/MiscUtilities\";\r\nimport QuranIndexer from \"../helpers/QuranIndexer\";\r\nimport { Audio } from \"expo-av\";\r\nclass Track {\r\n  constructor(\r\n    id = 0,\r\n    ayaInfo = {},\r\n    url = \"unkown\",\r\n    title = \"unkown\",\r\n    album = \"unkown\"\r\n  ) {\r\n    this.id = id;\r\n    this.ayaInfo = ayaInfo;\r\n    this.url = url;\r\n    this.title = title;\r\n    this.album = album;\r\n  }\r\n}\r\nclass ModalPlayback extends Component {\r\n  static propTypes = {\r\n    strLang: PropTypes.string.isRequired,\r\n    quranInfo: PropTypes.instanceOf(QuranIndexer).isRequired,\r\n    setModalVisible: PropTypes.func.isRequired,\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.bIsPlaying = false;\r\n    this.bIsRepeat = true;\r\n    this.bIsAr = this.props.strLang == \"ar\";\r\n    this.stringsManager = new StringsManager();\r\n    this.stringsManager.setLanguage(this.props.strLang);\r\n    this.revision = this.props.curRevision;\r\n\r\n    if (this.revision == null) {\r\n      //error\r\n      this.revision = new Revision();\r\n      this.revision.bIsNewRev = true;\r\n      this.revision.title = this.bIsAr ? \"مراجعة اختبارية\" : \"Test Revision\";\r\n      this.revision.strt = 1;\r\n      this.revision.end = 7;\r\n    }\r\n    this.currentAyah = this.revision.strt;\r\n    this.currentAyahProgress = 0;\r\n    this.fillAyahText();\r\n    this.state = {\r\n      animatedValue: new Animated.Value(0),\r\n      bRefresh: false,\r\n    };\r\n\r\n    this.tracks = this.constructTracks();\r\n    this.animTimer = Animated.timing(this.state.animatedValue, {\r\n      toValue: 1,\r\n      duration: 1000,\r\n      useNativeDriver: true,\r\n    }).start(({ finished }) => {\r\n      this._loadNewPlaybackInstance(false);\r\n    });\r\n    this.ayahStyle = getTitleFontBasicStyle(\"ar\");\r\n    this.ayahStyle.lineHeight += 14;\r\n    this.ayahNumLines = 2;\r\n    this.currentAyahScroll = 0;\r\n    this.numberStyle = getLargeContentFontBasicStyle(\"ar\");\r\n    this.titleStyle = this.getTitleTextStyle();\r\n    this.scrollView = React.createRef();\r\n  }\r\n  constructTracks() {\r\n    let ret = [];\r\n    let baseURL =\r\n      \"https://filedn.eu/lN31ymlFlgGQjKjbcGyu9xY/QuranVerses/Hosary/\";\r\n    for (let i = this.revision.strt; i <= this.revision.end; i++) {\r\n      let ayaInfo = this.props.quranInfo.getAyahLocalIndx(i); //{localSurahIndx,localAyahIndx}\r\n      let title = this.bIsAr\r\n        ? this.props.quranInfo.getSurahNameAr(ayaInfo.localSurahIndx)\r\n        : this.props.quranInfo.getSurahNameTrns(ayaInfo.localSurahIndx);\r\n      let trackname =\r\n        (\"00\" + ayaInfo.localSurahIndx).slice(-3) +\r\n        (\"00\" + ayaInfo.localAyahIndx).slice(-3) +\r\n        \".mp3\";\r\n      let track = new Track(\r\n        (id = i),\r\n        (ayaInfo = ayaInfo),\r\n        (url = baseURL + trackname),\r\n        (title = title),\r\n        (album = this.revision.title)\r\n      );\r\n      ret.push(track);\r\n    }\r\n\r\n    return ret;\r\n  }\r\n  fillAyahText() {\r\n    // this.currentAyahProgress\r\n    this.ayahText = allAyat[this.currentAyah].text;\r\n    this.ayahNumber = this.formatAyahNumber();\r\n  }\r\n  handlePress() {\r\n    this.state.animatedValue = new Animated.Value(0);\r\n    this._unloadPlaybackInstance();\r\n    this.props.setModalVisible(false);\r\n  }\r\n  _onPlaybackStatusUpdate(status) {\r\n    if (status.isLoaded) {\r\n      // this.setState({\r\n      //   playbackInstancePosition: status.positionMillis,\r\n      //   playbackInstanceDuration: status.durationMillis,\r\n      //   shouldPlay: status.shouldPlay,\r\n      //   isPlaying: status.isPlaying,\r\n      //   isBuffering: status.isBuffering,\r\n      //   rate: status.rate,\r\n      //   muted: status.isMuted,\r\n      //   volume: status.volume,\r\n      //   loopingType: status.isLooping ? LOOPING_TYPE_ONE : LOOPING_TYPE_ALL,\r\n      //   shouldCorrectPitch: status.shouldCorrectPitch,\r\n      // });\r\n      if (status.didJustFinish && !status.isLooping) {\r\n        this._advanceIndex(true);\r\n        this._loadNewPlaybackInstance(this.bIsPlaying);\r\n      } else if (this.ayahNumLines > 3) {\r\n        let curProgress = parseInt(\r\n          (100 * status.positionMillis) / status.durationMillis\r\n        );\r\n        if (curProgress - this.currentAyahProgress > 5) {\r\n          this.currentAyahProgress = curProgress;\r\n          // let scroll =\r\n          //   (this.ayahNumLines - 1) *\r\n          //   (curProgress / 100) *\r\n          //   this.ayahStyle.lineHeight *\r\n          //   0.35;\r\n          let lineEstimate = Math.floor(\r\n            this.ayahNumLines * (curProgress / 100)\r\n          );\r\n          this.currentAyahScroll = this.ayahStyle.lineHeight * lineEstimate;\r\n          this.scrollView.scrollTo({\r\n            x: 0,\r\n            y: this.currentAyahScroll,\r\n            animated: true,\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      if (status.error) {\r\n        alert(\"FATAL PLAYER ERROR:\" + status.error);\r\n      }\r\n    }\r\n  }\r\n  async _unloadPlaybackInstance() {\r\n    if (this.playbackInstance != null) {\r\n      await this.playbackInstance.unloadAsync();\r\n      // this.playbackInstance.setOnPlaybackStatusUpdate(null);\r\n      this.playbackInstance = null;\r\n    }\r\n  }\r\n  async _loadNewPlaybackInstance(bDoPlay) {\r\n    await this._unloadPlaybackInstance();\r\n    this.fillAyahText();\r\n    const source = {\r\n      uri: this.tracks[this.currentAyah - this.revision.strt].url,\r\n    };\r\n    const initialStatus = {\r\n      shouldPlay: bDoPlay,\r\n      rate: 1,\r\n      shouldCorrectPitch: true,\r\n      isMuted: false,\r\n      isLooping: false,\r\n      // // UNCOMMENT THIS TO TEST THE OLD androidImplementation:\r\n      // androidImplementation: 'MediaPlayer',\r\n    };\r\n\r\n    const { sound, status } = await Audio.Sound.createAsync(\r\n      source,\r\n      initialStatus,\r\n      this._onPlaybackStatusUpdate.bind(this),\r\n      true\r\n    );\r\n    this.playbackInstance = sound;\r\n    this.refresh();\r\n  }\r\n  _advanceIndex(forward) {\r\n    if (forward) this.currentAyah += 1;\r\n    else this.currentAyah -= 1;\r\n    if (this.currentAyah > this.revision.end)\r\n      if (this.bIsRepeat) this.currentAyah = this.revision.strt;\r\n      else {\r\n        this.currentAyah = this.revision.end;\r\n        this.onStop();\r\n      }\r\n    if (this.currentAyah < this.revision.strt)\r\n      if (this.bIsRepeat) this.currentAyah = this.revision.end;\r\n      else {\r\n        this.currentAyah = this.revision.strt;\r\n        this.onStop();\r\n      }\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n      bRefresh: !this.state.bRefresh,\r\n    });\r\n  }\r\n  onPlay() {\r\n    if (this.playbackInstance != null) {\r\n      if (this.bIsPlaying) {\r\n        this.playbackInstance.pauseAsync();\r\n      } else {\r\n        this.playbackInstance.playAsync();\r\n      }\r\n    }\r\n\r\n    this.bIsPlaying = !this.bIsPlaying;\r\n    this.refresh();\r\n  }\r\n\r\n  onStop() {\r\n    this.bIsPlaying = false;\r\n    if (this.playbackInstance != null) {\r\n      this.playbackInstance.stopAsync();\r\n    }\r\n    this.refresh();\r\n  }\r\n  onRepeat() {\r\n    this.bIsRepeat = !this.bIsRepeat;\r\n    this.refresh();\r\n  }\r\n  formatAyahNumber() {\r\n    let str = MiscUtilities.convertToIndianNumbers(\r\n      allAyat[this.currentAyah].index.toString()\r\n    );\r\n    return \" (\" + str + \") \";\r\n  }\r\n  onAyahTextLayout(e) {\r\n    this.ayahNumLines = Math.max(3, e.nativeEvent.lines.length);\r\n    this.refresh();\r\n  }\r\n  render() {\r\n    var strMgr = new StringsManager();\r\n    strMgr.setLanguage(this.props.strLang);\r\n    return (\r\n      <Modal transparent={true} visible={true}>\r\n        <Animated.View\r\n          style={{\r\n            transform: [\r\n              {\r\n                translateY: this.state.animatedValue.interpolate({\r\n                  inputRange: [0, 1],\r\n                  outputRange: [-600, height / 5],\r\n                }),\r\n              },\r\n            ],\r\n            height: \"57%\",\r\n            width: \"95%\",\r\n            paddingHorizontal: 5,\r\n            borderRadius: 12,\r\n            backgroundColor: colors.faddedGreen,\r\n            justifyContent: \"center\",\r\n            alignSelf: \"center\",\r\n          }}\r\n        >\r\n          <View style={styles.contentContainer}>\r\n            <Text style={this.titleStyle}>{this.revision.title}</Text>\r\n            <ScrollView\r\n              style={{ flex: 1 }}\r\n              ref={(ref) => (this.scrollView = ref)}\r\n            >\r\n              <Text\r\n                numberOfLines={this.ayahNumLines}\r\n                onTextLayout={this.onAyahTextLayout.bind(this)}\r\n              >\r\n                <Text style={this.ayahStyle}>{this.ayahText}</Text>\r\n                <Text style={this.numberStyle}>{this.ayahNumber}</Text>\r\n              </Text>\r\n            </ScrollView>\r\n\r\n            <View style={styles.playBackBar}>\r\n              <TouchableOpacity\r\n                activeOpacity={0.7}\r\n                onPress={this.onPlay.bind(this)}\r\n              >\r\n                <Ionicons\r\n                  name={this.bIsPlaying ? \"pause-sharp\" : \"play-sharp\"}\r\n                  size={height18 - 8}\r\n                  margin={4}\r\n                  color={colors.primary}\r\n                />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                activeOpacity={0.7}\r\n                onPress={this.onStop.bind(this)}\r\n              >\r\n                <Ionicons\r\n                  name={\"stop-sharp\"}\r\n                  size={height18 - 8}\r\n                  margin={4}\r\n                  color={colors.primary}\r\n                />\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity\r\n                activeOpacity={0.7}\r\n                onPress={this.onRepeat.bind(this)}\r\n              >\r\n                <MaterialCommunityIcons\r\n                  name={this.bIsRepeat ? \"repeat\" : \"repeat-off\"}\r\n                  size={height18 - 8}\r\n                  margin={4}\r\n                  color={colors.primary}\r\n                />\r\n              </TouchableOpacity>\r\n            </View>\r\n\r\n            <ActionBtn\r\n              style={{ width: \"62%\" }}\r\n              text={strMgr.getStr(strings.STR_CLOSE)}\r\n              fullWidth={false}\r\n              handler={this.handlePress.bind(this)}\r\n              lang={this.props.strLang}\r\n            />\r\n          </View>\r\n        </Animated.View>\r\n      </Modal>\r\n    );\r\n  }\r\n  getTitleTextStyle() {\r\n    return [\r\n      {\r\n        textAlign: \"center\",\r\n        color: \"#0B721E\",\r\n        marginVertical: height / 200,\r\n      },\r\n      getLargeContentFontBasicStyle(this.props.strLang),\r\n    ];\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  curRevision: state.curRevision,\r\n  strLang: state.strLang,\r\n});\r\nconst mapDispatchToProps = () => {\r\n  return {};\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps())(ModalPlayback);\r\nconst styles = StyleSheet.create({\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  badge: {\r\n    width: 90,\r\n    height: 90,\r\n  },\r\n  contentContainer: {\r\n    width: \"95%\",\r\n    height: \"90%\",\r\n    alignSelf: \"center\",\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-around\",\r\n    borderTopLeftRadius: 30,\r\n    borderTopRightRadius: 30,\r\n    borderBottomLeftRadius: 30,\r\n    borderBottomRightRadius: 30,\r\n  },\r\n  playBackBar: {\r\n    flexDirection: \"row-reverse\",\r\n    alignItems: \"center\",\r\n    alignSelf: \"flex-start\",\r\n    justifyContent: \"space-around\",\r\n    width: \"100%\",\r\n    marginBottom: 20,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
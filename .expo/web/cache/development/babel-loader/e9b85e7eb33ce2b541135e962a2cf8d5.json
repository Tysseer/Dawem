{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport Revision from \"./Revision.js\";\n\nvar RevisionsManager = function () {\n  function RevisionsManager() {\n    _classCallCheck(this, RevisionsManager);\n\n    this.m_loadedRevisions = [];\n  }\n\n  _createClass(RevisionsManager, [{\n    key: \"getNumRevisions\",\n    value: function getNumRevisions() {\n      return this.m_loadedRevisions.length;\n    }\n  }, {\n    key: \"getPastDate\",\n    value: function getPastDate(nNumDaysBack) {\n      return new Date(new Date().getTime() - nNumDaysBack * 24 * 60 * 60 * 1000);\n    }\n  }, {\n    key: \"getNewRevisionId\",\n    value: function getNewRevisionId() {\n      var iMaxId = 0;\n\n      for (var i = 0; i < this.m_loadedRevisions.length; i++) {\n        if (this.m_loadedRevisions[i].id > iMaxId) iMaxId = this.m_loadedRevisions[i].id;\n      }\n\n      return iMaxId + 1;\n    }\n  }, {\n    key: \"loadTestRevisions\",\n    value: function loadTestRevisions(bArabic) {\n      this.m_loadedRevisions.push(new Revision(1, bArabic ? \"الفاتحة\" : \"Fatiha\", 10, 1, 7, this.getPastDate(1000)));\n      this.m_loadedRevisions.push(new Revision(2, bArabic ? \"النجم\" : \"Najm\", 0, 4785, 4846, this.getPastDate(0)));\n      this.m_loadedRevisions.push(new Revision(3, bArabic ? \"الملك\" : \"Mulk\", 1, 5242, 5271, this.getPastDate(7)));\n      this.m_loadedRevisions.push(new Revision(4, bArabic ? \"الكوثر\" : \"AlKawthar\", 50, 6205, 6207, this.getPastDate(5)));\n      this.m_loadedRevisions.push(new Revision(5, bArabic ? \"الإخلاص\" : \"Ikhlas\", 80, 6222, 6225, this.getPastDate(12)));\n      this.m_loadedRevisions.push(new Revision(6, bArabic ? \"الزمر\" : \"Az-Zumar\", 50, 4059, 4133, this.getPastDate(12)));\n      this.m_loadedRevisions.push(new Revision(7, bArabic ? \"غافر\" : \"Ghaafir\", 30, 4134, 4218, this.getPastDate(3)));\n      this.m_loadedRevisions.push(new Revision(8, bArabic ? \"فصـّلت\" : \"Fussilat\", 20, 4219, 4272, this.getPastDate(1)));\n      this.m_loadedRevisions.push(new Revision(9, bArabic ? \"الشورى\" : \"Ash-Shura\", 0, 4273, 4325, this.getPastDate(0)));\n      this.m_loadedRevisions.push(new Revision(10, bArabic ? \"الزخرف\" : \"Az-Zukhruf\", 70, 4326, 4414, this.getPastDate(2)));\n      this.m_loadedRevisions.push(new Revision(11, bArabic ? \"الدخان\" : \"Ad-Dukhaan\", 35, 4415, 4473, this.getPastDate(22)));\n      this.m_loadedRevisions.push(new Revision(12, bArabic ? \"الجاثية\" : \"Al-Jaathiya\", 48, 4474, 4510, this.getPastDate(5)));\n      this.m_loadedRevisions.push(new Revision(13, bArabic ? \"الأحقاف\" : \"Al-Ahqaf\", 79, 4511, 4545, this.getPastDate(7)));\n      this.m_loadedRevisions.push(new Revision(14, bArabic ? \"محمد\" : \"Muhammad\", 95, 4546, 4583, this.getPastDate(44)));\n      this.m_loadedRevisions.push(new Revision(15, bArabic ? \"الفتح\" : \"Al-Fath\", 90, 4584, 4612, this.getPastDate(42)));\n      this.m_loadedRevisions.push(new Revision(16, bArabic ? \"الحجرات\" : \"Al-Hujuraat\", 99, 4613, 4630, this.getPastDate(11)));\n      this.m_loadedRevisions.push(new Revision(18, bArabic ? \"۱۲۳٤٥٦٧۸۹۱۲۳٤٥٦٧۸۹۱۲۳٤٥٦٧۸۹۱۲۳٤٥٦٧۸۹\" : \"123456789012345678901234567890\", 99, 4613, 4630, this.getPastDate(35)));\n      this.m_loadedRevisions.push(new Revision(17, bArabic ? \"ق\" : \"Qaaf\", 13, 4631, 4675, this.getPastDate(4)));\n    }\n  }, {\n    key: \"sortRevisions\",\n    value: function sortRevisions() {\n      this.m_loadedRevisions.sort(function (a, b) {\n        return b.numDays - a.numDays;\n      });\n    }\n  }]);\n\n  return RevisionsManager;\n}();\n\nexport { RevisionsManager as default };","map":{"version":3,"sources":["C:/Users/Tysseer Harak/Desktop/Data/Code/React Native/Dawem/app/js/helpers/RevisionsManager.js"],"names":["Revision","RevisionsManager","m_loadedRevisions","length","nNumDaysBack","Date","getTime","iMaxId","i","id","bArabic","push","getPastDate","sort","a","b","numDays"],"mappings":"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","sourcesContent":["import Revision from \"./Revision.js\";\r\nexport default class RevisionsManager {\r\n  // loads from db, saves to db\r\n  constructor() {\r\n    this.m_loadedRevisions = [];\r\n  }\r\n  getNumRevisions() {\r\n    return this.m_loadedRevisions.length;\r\n  }\r\n  getPastDate(nNumDaysBack) {\r\n    return new Date(new Date().getTime() - nNumDaysBack * 24 * 60 * 60 * 1000);\r\n  }\r\n  getNewRevisionId() {\r\n    var iMaxId = 0;\r\n    for (var i = 0; i < this.m_loadedRevisions.length; i++) {\r\n      if (this.m_loadedRevisions[i].id > iMaxId)\r\n        iMaxId = this.m_loadedRevisions[i].id;\r\n    }\r\n    return iMaxId + 1;\r\n  }\r\n\r\n  loadTestRevisions(bArabic) {\r\n    // todo: load from DB\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        1,\r\n        bArabic ? \"الفاتحة\" : \"Fatiha\",\r\n        10,\r\n        1,\r\n        7,\r\n        this.getPastDate(1000)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        2,\r\n        bArabic ? \"النجم\" : \"Najm\",\r\n        0,\r\n        4785,\r\n        4846,\r\n        this.getPastDate(0)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        3,\r\n        bArabic ? \"الملك\" : \"Mulk\",\r\n        1,\r\n        5242,\r\n        5271,\r\n        this.getPastDate(7)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        4,\r\n        bArabic ? \"الكوثر\" : \"AlKawthar\",\r\n        50,\r\n        6205,\r\n        6207,\r\n        this.getPastDate(5)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        5,\r\n        bArabic ? \"الإخلاص\" : \"Ikhlas\",\r\n        80,\r\n        6222,\r\n        6225,\r\n        this.getPastDate(12)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        6,\r\n        bArabic ? \"الزمر\" : \"Az-Zumar\",\r\n        50,\r\n        4059,\r\n        4133,\r\n        this.getPastDate(12)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        7,\r\n        bArabic ? \"غافر\" : \"Ghaafir\",\r\n        30,\r\n        4134,\r\n        4218,\r\n        this.getPastDate(3)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        8,\r\n        bArabic ? \"فصـّلت\" : \"Fussilat\",\r\n        20,\r\n        4219,\r\n        4272,\r\n        this.getPastDate(1)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        9,\r\n        bArabic ? \"الشورى\" : \"Ash-Shura\",\r\n        0,\r\n        4273,\r\n        4325,\r\n        this.getPastDate(0)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        10,\r\n        bArabic ? \"الزخرف\" : \"Az-Zukhruf\",\r\n        70,\r\n        4326,\r\n        4414,\r\n        this.getPastDate(2)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        11,\r\n        bArabic ? \"الدخان\" : \"Ad-Dukhaan\",\r\n        35,\r\n        4415,\r\n        4473,\r\n        this.getPastDate(22)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        12,\r\n        bArabic ? \"الجاثية\" : \"Al-Jaathiya\",\r\n        48,\r\n        4474,\r\n        4510,\r\n        this.getPastDate(5)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        13,\r\n        bArabic ? \"الأحقاف\" : \"Al-Ahqaf\",\r\n        79,\r\n        4511,\r\n        4545,\r\n        this.getPastDate(7)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        14,\r\n        bArabic ? \"محمد\" : \"Muhammad\",\r\n        95,\r\n        4546,\r\n        4583,\r\n        this.getPastDate(44)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        15,\r\n        bArabic ? \"الفتح\" : \"Al-Fath\",\r\n        90,\r\n        4584,\r\n        4612,\r\n        this.getPastDate(42)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        16,\r\n        bArabic ? \"الحجرات\" : \"Al-Hujuraat\",\r\n        99,\r\n        4613,\r\n        4630,\r\n        this.getPastDate(11)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        18,\r\n        bArabic\r\n          ? \"۱۲۳٤٥٦٧۸۹۱۲۳٤٥٦٧۸۹۱۲۳٤٥٦٧۸۹۱۲۳٤٥٦٧۸۹\"\r\n          : \"123456789012345678901234567890\",\r\n        99,\r\n        4613,\r\n        4630,\r\n        this.getPastDate(35)\r\n      )\r\n    );\r\n    this.m_loadedRevisions.push(\r\n      new Revision(\r\n        17,\r\n        bArabic ? \"ق\" : \"Qaaf\",\r\n        13,\r\n        4631,\r\n        4675,\r\n        this.getPastDate(4)\r\n      )\r\n    );\r\n  }\r\n  sortRevisions() {\r\n    this.m_loadedRevisions.sort(function (a, b) {\r\n      return b.numDays - a.numDays;\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}